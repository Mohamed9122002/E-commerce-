<section class="bg-main-light rounded-4 shadow p-4 my-5 p-5">
  <div class="container">

    <h1 class="h2 text-main">Show Cart</h1>
    @if (cartDetails?.data?.products?.length != 0) {
    <div class="d-flex justify-content-between align-items-center">
      <button (click)="clearItems()" class="btn btn-outline-danger">Clear</button>
    </div>
    <p class="text-main">Total Price : {{cartDetails.data?.totalCartPrice | currency:"GBP"}}</p>
    <button [routerLink]="['/orders',cartDetails.cartId]" class="btn-main mt-2 my-2">Orders</button>
    }
    @for (product of cartDetails.data?.products; track product.product.id) {
    <div class="row mb-1 ">
      <!-- imag -->
      <div class="col-md-1">
        <img [src]="product.product.imageCover" class="w-100" [alt]="product.product.title">
      </div>
      <!-- information product -->
      <div class="col-md-11 d-flex  justify-content-between align-items-center">
        <div class="">
          <h3 class="h5">{{product.product.title}}</h3>
          <p class="text-main m-0">Price: {{product.price | currency:"GBP"}}</p>
          <p class="cursor-pointer"><i (click)="removeProductCart(product.product.id)"
              class="fa-solid fa-trash text-danger "></i> Remove</p>
        </div>
        <div class="d-flex justify-content-between align-items-center gap-2">
          <span (click)="updateCount(product.product.id, product.count+1)" class="text-main cursor-pointer">
            <i class="fa-solid fa-circle-plus  fa-2x "></i>
          </span>
          <span class="fw-bold">{{product.count}}</span>
          <span (click)="updateCount(product.product.id, product.count - 1)" class="text-danger cursor-pointer">
            <i class="fa-solid fa-circle-minus  fa-2x"></i>
          </span>
        </div>
      </div>
    </div>

    }@empty {
    <figure>
      <img src="./assets/images/emptyCart.png" alt="cart is empty">
      <figcaption>Cart is not found  </figcaption>
    </figure>

    }
  </div>

</section>
